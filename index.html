<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no">

		<title>FESTIVAL Aviation</title>
		<link rel="stylesheet" href="css/festival.aviation.css">
		<link rel="stylesheet" href="css/landing.built.css">

		<style>
			/* button {
				font-size: 16px;
				font-weight: 500;
				padding: 15px;
				background-color: #00b0ee;
				color: #fff;
				width: 320px;
				max-width: calc(100% - 90px);
				margin: 45px;
				border-radius: 8px;
				transition: opacity .3s;
			}
			
			button:active {
				transition-duration: 0;
				opacity: 0.75;
			} */


			
		</style>

		<script src="lib/spring-animatable.js"></script>
		<script src="lib/scroll-retractor.js"></script>
	</head>
	<body>
		<!-- Include through JSP-->
		<nav class="global-nav">
			<div class="nav-content">
				<div class="nav-svg-header">
					<div class="nav-svg-wrapper" onclick="document.querySelector('nav').classList.toggle('extended'); document.body.classList.toggle('no-scroll')">
						<svg width="24" height="24" viewBox="0 0 96 96" class="nav-svg nav-svg-top">
							<rect x="0" y="44" width="96" height="8" fill="#FFFFFF" class="nav-svg-rect nav-svg-rect-top"/>
						</svg>
						<svg width="24" height="24" viewBox="0 0 96 96" class="nav-svg nav-svg-mid">
							<rect x="0" y="44" width="96" height="8" fill="#FFFFFF" class="nav-svg-rect nav-svg-rect-mid"/>
						</svg>
						<svg width="24" height="24" viewBox="0 0 96 96" class="nav-svg nav-svg-bottom">
							<rect x="0" y="44" width="96" height="8" fill="#FFFFFF" class="nav-svg-rect nav-svg-rect-bottom"/>
						</svg>
					</div>
					
					<a href="#" class="link-home"></a>
					<a href="login.html" class="link-user-cp"></a>
				</div>
				<ul class="nav-list">
					<li><a href="#" class="link-home"></a></li>
					<li><a href="#">Link</a></li>
					<li><a href="#">Link</a></li>
					<li><a href="#">Link</a></li>
					<li><a href="#">Link</a></li>
					<li><a href="#">Link</a></li>
					<li><a href="#">Link</a></li>
					<li><a href="login.html" class="link-user-cp"></a></li>
			</div>
		</nav>
		
		<section class="landing-hero">
			<div class="hero-content">
				<img src="img/logo-light.svg" class="hero-logo">
				<h2 class="hero-title">Die günstigsten Flugreisen aller Zeiten</h2>
				<h4 class="hero-subtitle">Einfach nur das buchen, was du wirklich brauchst – das ist aviation.</h4>
				
				<div class="hero-search-bar">
					<form>
						<div class="input-wrapper">
							<img src="img/icon-departure.svg" alt="" class="icon">
							<input type="text" placeholder="Von (Ort oder Flughafen)">
						</div>
						<div class="input-wrapper">
							<img src="img/icon-arrival.svg" alt="" class="icon">
							<input type="text" placeholder="Nach (Ort oder Flughafen)">
						</div>
						<div class="input-wrapper">
							<img src="img/icon-date.svg" alt="" class="icon">
							<input type="date" placeholder="Abflugdatum">
						</div>
					</form>
					
					<button class="search-button">Suchen</button>
				</div>
			</div>
		</section>

		<section class="promo-articles">
			<div class="section-content">
				<div class="promo-article" data-spring-animatable="promo_1">
					<div class="header dark" style="background-image: url(img/963_42158716822_afcc8b6c9e_z_630_320_nofilter.jpg)">
						<p class="header-heading">Test Header</p>
						<p class="header-title">Test Title</p>
						<p class="header-subtitle">Example Subtitle</p>
					</div>
				</div>

				<div class="promo-article" data-spring-animatable="promo_2">
					<div class="header dark" style="background-image: url(img/1740_41632494185_8153def7b7_z_630_320_nofilter.jpg)">
						<p class="header-heading">Test Header</p>
						<p class="header-title">Test Title</p>
						<p class="header-subtitle">Example Subtitle</p>
					</div>
				</div>

				<div class="promo-article" data-spring-animatable="promo_3">
					<div class="header dark" style="background-image: url(img/1785_42279404374_271e7c3596_z_630_320_nofilter.jpg)">
						<p class="header-heading">Test Header</p>
						<p class="header-title">Test Title</p>
						<p class="header-subtitle">Example Subtitle</p>
					</div>
				</div>
			</div>
		</section>
		
		<section class="promo-text">
			<div class="section-content row">
				<div class="column column-12 medium-6">
					<h4 class="eyebrow">Test</h4>
					<h2 class="headline">Test Headline</h2>
					<p class="body">Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.</p>
				</div>
				
				<div class="column column-12 medium-5 medium-offset-1">
					<p class="body">test</p>
				</div>
			</div>
		</section>

		<footer>
			<div class="footer-content">
				<div class="footer-directory">
					<div class="footer-directory-column">
						<h3 class="footer-directory-column-title">Aviation</h3>
						
						<ul class="footer-directory-column-list">
							<li><a href="#">Link</a></li>
						</ul>
					</div>
					<div class="footer-directory-column">
						<h3 class="footer-directory-column-title">Team FESTIVAL</h3>
						
						<ul class="footer-directory-column-list">
							<li><a href="#">Über uns</a></li>
						</ul>
					</div>
					<div class="footer-directory-column">
						<h3 class="footer-directory-column-title">Social</h3>
						
						<ul class="footer-directory-column-list">
							<li><a href="https://twitter.com/festivaldev" target="_blank">Twitter</a></li>
							<li><a href="https://github.com/festivaldev" target="_blank">GitHub</a></li>
						</ul>
					</div>
				</div>
				
				<section class="footer">
					<p class="legal">Copyright &copy; 2018 Team FESTIVAL. Alle Rechte vorbehalten.</p>
				</section>
			</div>
		</footer>

		<div class="promo-article-details" data-spring-animatable-target="promo_1">
			<div class="header dark" style="background-image: url(img/963_42158716822_afcc8b6c9e_z_630_320_nofilter.jpg)">
				<div class="close-button"></div>
				<p class="header-heading">Test Header</p>
				<p class="header-title">Test Title</p>
				<p class="header-subtitle">Example Subtitle</p>
			</div>
			<div class="content-scroll-wrapper">
				<div class="content">
					<p>
						<span class="bold italic">Lorem ipsum</span> dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et
						dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita
						kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing
						elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos
						et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor
						sit amet.</p>
					<p>Lorem ipsum dolor sit amet,
						<span class="italic">consetetur</span> sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat,
						sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata
						sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod
						tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores
						et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.</p>
					<p>Lorem ipsum dolor sit amet,
						<span class="italic">consetetur</span> sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat,
						sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata
						sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod
						tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores
						et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.</p>
					<p>Lorem ipsum dolor sit amet,
						<span class="italic">consetetur</span> sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat,
						sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata
						sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod
						tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores
						et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.</p>
				</div>
			</div>
		</div>

		<div class="promo-article-details" data-spring-animatable-target="promo_2">
			<div class="header dark" style="background-image: url(img/1740_41632494185_8153def7b7_z_630_320_nofilter.jpg)">
				<div class="close-button"></div>
				<p class="header-heading">Test Header</p>
				<p class="header-title">Test Title</p>
				<p class="header-subtitle">Example Subtitle</p>
			</div>
			<div class="content-scroll-wrapper">
				<div class="content">
					<p>
						<span class="bold italic">Lorem ipsum</span> dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et
						dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita
						kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing
						elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos
						et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor
						sit amet.</p>
					<p>Lorem ipsum dolor sit amet,
						<span class="italic">consetetur</span> sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat,
						sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata
						sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod
						tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores
						et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.</p>
				</div>
			</div>
		</div>

		<div class="promo-article-details" data-spring-animatable-target="promo_3">
			<div class="header dark" style="background-image: url(img/1785_42279404374_271e7c3596_z_630_320_nofilter.jpg)">
				<div class="close-button"></div>
				<p class="header-heading">Test Header</p>
				<p class="header-title">Test Title</p>
				<p class="header-subtitle">Example Subtitle</p>
			</div>
			<div class="content-scroll-wrapper">
				<div class="content">
					<p>
						<span class="bold italic">Lorem ipsum</span> dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et
						dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita
						kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing
						elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos
						et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor
						sit amet.</p>
					<p>Lorem ipsum dolor sit amet,
						<span class="italic">consetetur</span> sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat,
						sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata
						sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod
						tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores
						et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.</p>
				</div>
			</div>
		</div>

		<div class="spring-background"></div>

		<script>
			let animatables = [];
			let scrollRetractors = [];
			document.querySelectorAll("[data-spring-animatable]").forEach(item => {
				let target = document.querySelector(`[data-spring-animatable-target="${item.getAttribute("data-spring-animatable")}"]`);
				if (!target) {
					return;
				}

				// Scroll Retractor
				let scrollContainer = target.querySelector(".content-scroll-wrapper"),
					scroll = target.querySelector(".content"),
					retract = target.querySelector(".header");

				let retractor = new ScrollRetractor({
					scrollContainer: scrollContainer,
					scrollElement: scroll,
					retractElement: retract,
					minHeight: 200
				});

				scrollContainer.addEventListener("scroll", () => {
					retractor.elementDidScroll();
				});

				// Spring Animation
				let animatable = new SpringAnimatable({
					identifier: item.getAttribute("data-spring-animatable"),
					classList: ["promo-animatable"],
					originElement: item,
					targetElement: document.querySelector(`[data-spring-animatable-target="${item.getAttribute("data-spring-animatable")}"]`),
					targetFrame: () => {
						if (window.innerWidth < 768) {
							return {
								origin: {
									x: 0,
									y: 0
								},
								size: {
									width: window.innerWidth,
									height: window.innerHeight
								}
							}
						}

						return {
							origin: {
								x: window.innerWidth / 2 - 630 / 2,
								y: window.innerHeight / 2 - 630 / 2
							},
							size: {
								width: 630,
								height: 630
							}
						}
					},
					spring: {
						mass: 1,
						stiffness: 351.77878,
						damping: 28.13365
					}
				});

				item.addEventListener("click", () => {
					animatables.forEach(anim => {
						anim._clearHideTimeout();
					})

					animatable.start();
					document.querySelector(".spring-background").classList.add("visible");
					target.querySelector(".content-scroll-wrapper").scrollTop = 0;
				});

				if (target.querySelector(".close-button")) {
					target.querySelector(".close-button").addEventListener("click", () => {
						animatable.reverse();
						document.querySelector(".spring-background").classList.remove("visible");
					});
				}

				animatables.push(animatable);
			});
		</script>
	</body>
</html>